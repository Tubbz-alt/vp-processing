[
["index.html", "Process vertical profile data for visualizations Preface", " Process vertical profile data for visualizations Peter Desmet 2017-05-22 Preface This document describes how we process vertical profile (vp) data1 for the visualizations bird migration flow visualization and TIMAMP. You can also use it to just download or extract vp data for further analysis. Bird migration flow visualization for Sweden. Vertical profiles of birds generated from weather radar volume scans by vol2bird.â†© "],
["setup.html", "1 Get started 1.1 Install packages 1.2 Download code 1.3 Define processing settings 1.4 Run processing 1.5 Run your own processing 1.6 Update code 1.7 Update documentation", " 1 Get started Note: This documentation assumes you are working in RStudio. 1.1 Install packages First, you will need to install a number of R packages we will use: install.packages(c( &quot;devtools&quot;, # To install packages from GitHub &quot;yaml&quot;, # To read processing settings &quot;dplyr&quot;, # To process dataframes &quot;lubridate&quot;, # To process dates &quot;bookdown&quot; # To generate this documentation )) devtools::install_github(&quot;adokter/bioRad&quot;, ref=&quot;master&quot;) # To process vp data source(&quot;functions/load_settings.R&quot;) # source(&quot;functions/load_radars.R&quot;) 1.2 Download code To run or adapt the code in this document, fork or clone this repository: https://github.com/enram/timamp-etl. 1.3 Define processing settings The processing requires a number of settings we need to define. If you want to run the processing with other data and settings, then this is the only code you need to update (in 1_setup.Rmd): # The following three paths are relative to this script (i.e. to the src directory) raw_data_dir &lt;- &quot;../data/raw/example/&quot; # Needs a trailing slash! # settings_file &lt;- &quot;../settings/example_settings.yaml&quot; # radars_file &lt;- &quot;../settings/example_radars.csv&quot; Load those settings: # settings &lt;- load_settings(settings_file) # radars &lt;- load_radars(radars_file) 1.4 Run processing The processing of the vp data is done in four steps. Each has its own chapter and Rmd file: Get started (1_setup.Rmd) = this chapter Extract vp data (2_extract_vp.Rmd) Process vp data for the Bird migration flow visualization (3_vp_to_flowviz.Rmd) Process vp data for TIMAMP (4_vp_to_timamp.Rmd) The repository comes with example settings and data for all steps, so you can run the processing out of the box: Go the src directory of the downloaded code Open timamp-etl.Rproj in RStudio 1.4.1 Run all steps To run all steps use the build functionality: it will run all the .Rmd files in src and generate fancy documentation: Click on the Build pane in RStudio Click the Build book button Wait for the build to finish If you used example data, nothing should have changed: youâ€™ve just reprocessed those files. 1.4.2 Run individual steps If you are adapting the code, it can be useful to run individual steps. Except for 1_setup.Rmd, all steps read input data file(s) and generate output data file(s). If those data files are already there, you donâ€™t need to rerun the step that generated those. However, all files use the processing settings defined in 1_setup.Rmd, so you need to run that file at least once first: Open and run 1_setup.Rmd in RStudio Open and run one of the other .Rmd files Adapt the .Rmd file and run to test 1.5 Run your own processing If you want to run the processing with your own data and processing settings, do this: 1.5.1 Upload your data Add a new directory to data/raw and give it a meaningful name Update raw_data_dir in 1.3 so the code can find your directory Copy your vp data to that directory or download vp data from the ENRAM bird profile data repository To download data, adapt the following to your needs and run it. You might want to get some â˜• as this could take a while: library(bioRad) bioRad::download_vp( start_date = &quot;2017-03-01&quot;, end_date = &quot;2017-03-01&quot;, country = c(&quot;se&quot;), radar = c(&quot;ang&quot;, &quot;arl&quot;), localpath = &quot;../data/raw/my_data&quot; ) 1.5.2 Update settings Copy and paste example_settings.yaml in settings and give it a meaningful name Update settings_file in 1.3 so the code can find your file Adapt your settings file to your own needs 1.5.3 Update radars metadata Copy and paste example_radars.csv in settings and give it a meaningful name Update radars_file in 1.3 so the code can find your file Adapt your settings file to your own needs Once done, run all steps of the processing. There should be no need to adapt the code. 1.6 Update code If the processing doesnâ€™t fit your needs, you can update the code by editing the relevant file in src and running it (see 1.4.2). If you encounter a bug in the original code, please let us know by filing an issue or submitting a pull request. 1.7 Update documentation What your are reading here (in your browser) is in fact all generated from the .Rmd files in the src directory, using the R package bookdown. If you notice a typo in this documentation, you can correct it by clicking the pencil icon in the menu at the top, which will take you straight to the correct .Rmd file in the original repository on GitHub. If you click the pencil icon on that GitHub page, you will be able to edit right away or create a copy (a fork) of the repository to do so, depending on your access rights. If you want to generate your own fancy documentation ðŸ“• from the adapted .Rmd files, then just run all steps. The build process will create your documentation in the docs repository. Open index.html in your browser to see it. For more info on debugging or hosting your documentation (i.e.Â on GitHub pages), see this bookdown book on bookdown. ðŸ˜Š "]
]
